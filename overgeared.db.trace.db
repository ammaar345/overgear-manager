2021-10-07 16:38:14 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "DAYS" not found; SQL statement:
select name from days [42102-199]
2021-10-07 16:38:26 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "DAYS" not found; SQL statement:
select name from days [42102-199]
2021-10-07 16:38:30 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "DAYS" not found; SQL statement:
select name from days [42102-199]
2021-10-07 16:39:34 database: flush
org.h2.message.DbException: General error: "java.lang.IllegalStateException: The file is locked: nio:/home/codex-coder/Desktop/overgear-manager/overgeared.db.mv.db [1.4.199/7]" [50000-199]
	at org.h2.message.DbException.get(DbException.java:194)
	at org.h2.message.DbException.convert(DbException.java:347)
	at org.h2.mvstore.db.MVTableEngine$1.uncaughtException(MVTableEngine.java:90)
	at org.h2.mvstore.MVStore.handleException(MVStore.java:2787)
	at org.h2.mvstore.MVStore.panic(MVStore.java:441)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:404)
	at org.h2.mvstore.MVStore$Builder.open(MVStore.java:3343)
	at org.h2.mvstore.db.MVTableEngine$Store.open(MVTableEngine.java:162)
	at org.h2.mvstore.db.MVTableEngine.init(MVTableEngine.java:95)
	at org.h2.engine.Database.getPageStore(Database.java:2739)
	at org.h2.engine.Database.open(Database.java:769)
	at org.h2.engine.Database.openDatabase(Database.java:319)
	at org.h2.engine.Database.<init>(Database.java:313)
	at org.h2.engine.Engine.openSession(Engine.java:69)
	at org.h2.engine.Engine.openSession(Engine.java:201)
	at org.h2.engine.Engine.createSessionAndValidate(Engine.java:178)
	at org.h2.engine.Engine.createSession(Engine.java:161)
	at org.h2.engine.Engine.createSession(Engine.java:31)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:336)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:169)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:148)
	at org.h2.Driver.connect(Driver.java:69)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:677)
	at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:228)
	at org.jdbi.v3.core.Jdbi.lambda$create$2(Jdbi.java:131)
	at org.jdbi.v3.core.Jdbi.open(Jdbi.java:305)
	at overgeared.Manager.<init>(Manager.java:14)
	at WaiterTest.bread(WaiterTest.java:10)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:567)
	at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)
	at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)
	at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)
	at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)
	at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)
	at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)
	at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:413)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:69)
	at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)
	at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:221)
	at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)
Caused by: org.h2.jdbc.JdbcSQLNonTransientException: General error: "java.lang.IllegalStateException: The file is locked: nio:/home/codex-coder/Desktop/overgear-manager/overgeared.db.mv.db [1.4.199/7]" [50000-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:502)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427)
	... 53 more
Caused by: java.lang.IllegalStateException: The file is locked: nio:/home/codex-coder/Desktop/overgear-manager/overgeared.db.mv.db [1.4.199/7]
	at org.h2.mvstore.DataUtils.newIllegalStateException(DataUtils.java:883)
	at org.h2.mvstore.FileStore.open(FileStore.java:172)
	at org.h2.mvstore.MVStore.<init>(MVStore.java:390)
	... 47 more
2021-10-07 16:39:49 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "DAYS" not found; SQL statement:
select name from days [42102-199]
2021-10-08 12:14:03 jdbc[3]: exception
org.h2.jdbc.JdbcSQLNonTransientConnectionException: Database is already closed (to disable automatic closing at VM shutdown, add ";DB_CLOSE_ON_EXIT=FALSE" to the db URL) [90121-199]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:617)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:427)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.message.DbException.get(DbException.java:170)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1571)
	at org.h2.jdbc.JdbcConnection.checkClosed(JdbcConnection.java:1547)
	at org.h2.jdbc.JdbcConnection.prepareStatement(JdbcConnection.java:737)
	at org.jdbi.v3.core.statement.DefaultStatementBuilder.create(DefaultStatementBuilder.java:62)
	at org.jdbi.v3.core.statement.SqlStatement.internalExecute(SqlStatement.java:1430)
	at org.jdbi.v3.core.result.ResultProducers.lambda$getResultSet$2(ResultProducers.java:59)
	at org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:53)
	at org.jdbi.v3.core.result.ResultIterable.stream(ResultIterable.java:141)
	at org.jdbi.v3.core.result.ResultIterable.collect(ResultIterable.java:197)
	at org.jdbi.v3.core.result.ResultIterable.list(ResultIterable.java:186)
	at overgeared.Manager.daysOfWeek(Manager.java:93)
	at overgeared.App.lambda$main$9(App.java:136)
	at spark.TemplateViewRouteImpl$1.handle(TemplateViewRouteImpl.java:66)
	at spark.http.matching.Routes.execute(Routes.java:61)
	at spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:134)
	at spark.embeddedserver.jetty.JettyHandler.doHandle(JettyHandler.java:50)
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1584)
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)
	at org.eclipse.jetty.server.Server.handle(Server.java:501)
	at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)
	at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556)
	at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)
	at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)
	at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)
	at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)
	at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)
	at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)
	at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)
	at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)
	at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)
	at java.base/java.lang.Thread.run(Thread.java:831)
2021-10-08 12:20:40 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
create table if not exists shifts ( id integer identity, waiternameid int not null,weekdayid int not null, FOREIGN key (waiternameid) REFERENCES waiters(id),FOREIGN key (weekdayid) REFERENCES weekdays(id))     [42102-199]
2021-10-08 12:44:05 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
drop table waiters [42102-199]
2021-10-08 12:44:31 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "SHIFTS" not found; SQL statement:
drop table shifts [42102-199]
2021-10-08 12:46:59 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
drop table waiters [42102-199]
2021-10-08 12:47:02 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
SELECT  waiters.name AS name
    FROM waiters
    LEFT JOIN shifts
    ON waiters.id=shifts.waiternameid
    LEFT JOIN weekdays
    ON weekdays.id=shifts.weekdayid
    where weekdays.id=? [42102-199]
2021-10-08 12:47:40 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
drop table waiters [42102-199]
2021-10-08 12:49:28 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
SELECT  waiters.name AS name
    FROM waiters
    LEFT JOIN shifts
    ON waiters.id=shifts.waiternameid
    LEFT JOIN weekdays
    ON weekdays.id=shifts.weekdayid
    where weekdays.id=? [42102-199]
2021-10-08 12:50:45 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
drop table waiters [42102-199]
2021-10-08 12:51:27 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
drop table waiters [42102-199]
2021-10-08 12:51:43 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
drop table waiters [42102-199]
2021-10-08 12:52:02 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
drop table waiters [42102-199]
2021-10-08 12:52:06 jdbc[3]: exception
org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "WAITERS" not found; SQL statement:
SELECT  waiters.name AS name
    FROM waiters
    LEFT JOIN shifts
    ON waiters.id=shifts.waiternameid
    LEFT JOIN weekdays
    ON weekdays.id=shifts.weekdayid
    where weekdays.id=? [42102-199]
